{"version":3,"sources":["webpack:///./src/assets/birthday.mp3","webpack:///./src/utils/dimensions.js","webpack:///./src/utils/SceneState.js","webpack:///./src/utils/helpers.js","webpack:///./src/utils/mouseCoords.js","webpack:///./src/components/shapes/Shape.js","webpack:///./src/components/shapes/Background.js","webpack:///./src/components/shapes/Cake.js","webpack:///./src/components/shapes/CylinderStack.js","webpack:///./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack:///./src/utils/analytics.js","webpack:///./src/components/shapes/Arrow.js","webpack:///./src/components/shapes/Knife.js","webpack:///./src/components/shapes/Candle.js","webpack:///./src/components/shapes/Circle.js","webpack:///./src/components/shapes/CandleBlower.js","webpack:///./src/components/shapes/ArrowStrip.js","webpack:///./src/components/shapes/Text.js","webpack:///./src/utils/audio.js","webpack:///./src/components/canvas.js","webpack:///./src/components/IntroModal.js","webpack:///./src/components/GithubNote.js","webpack:///./src/templates/index-page.js","webpack:///./src/img/github-icon.svg","webpack:///./src/assets/cheering.mp3"],"names":["module","exports","CANVAS_WIDTH","CANVAS_HEIGHT","SCALE_X","SCALE_Y","getCanvasWidth","getCanvasHeight","getScaleXBounded","bound","Math","max","getScaleY","sceneStates","INIT","CANDLE_BLOWING","CAKE_CUTTING","currentSceneState","getSceneState","calculateDistance","x1","x","y1","y","x2","y2","sqrt","pow","callOnce","func","isCalled","convertDegreeToRadians","degree","PI","mouseX","mouseY","clickX","clickY","isDragging","window","mousemove","mousedown","mouseup","navigator","maxTouchPoints","msMaxTouchPoints","addEventListener","event","targetTouches","clientX","clientY","Shape","draggable","this","canvas","document","querySelector","ctx","getContext","isBeingDragged","updateMouseInteractionStatus","getMouseCoords","hasCollidedWithPoint","style","cursor","hitBoxOptions","pointX","pointY","type","left","top","width","height","radius","log","console","Background","setcolorBlocks","blocks","num","denom","reduce","acc","block","forEach","fillStyle","color","fillRect","draw","save","clearRect","restore","Cake","startAngle","endAngle","r","fillColor","strokeColor","Object","assign","self","ReferenceError","translate","lineWidth","scale","beginPath","moveTo","lineTo","cos","sin","closePath","fill","arc","strokeStyle","stroke","EventLabels","freeze","CAKE","EventNames","AUDIO_INITIALIZED","CANDLE_BLOWN","CAKE_CUT","BLOWER_DRAGGED","KNIFE_DRAGGED","sendDragEvent","eventLabel","eventAction","ga","hitType","eventCategory","sendCustomEvent","customProps","Arrow","lineCap","lineJoin","sendDragEventOnce","Knife","initY","highBound","lowBound","initMouseCoords","animate","showPointer","update","min","getPosition","stopAnimating","step","quadraticCurveTo","i","points","length","xc","yc","Date","now","setInterval","Candle","id","noOfCandles","flameHeight","flameSpeed","state","alpha","alphaSpeed","wickLength","candleHeight","extinguish","getState","globalAlpha","shadowColor","shadowBlur","shadowOffsetY","CandleBlower","showArrow","rotation","rotate","Circle","ArrowStrip","arrows","Array","curArrow","timer","fillAll","clearInterval","Text","text","font","show","speed","hide","textAlign","fillText","initAudio","src","audioElement","createElement","body","appendChild","setAttribute","play","updateCanvasDimensions","innerWidth","innerHeight","initCanvasDimensions","background","backCakeSlice","frontCakeSlice","blowCandleText1","blowCandleText2","cakeCutText","birthdayWishText","birthdayWishTextBottom","candles","fan","knife","arrowStrip","candle","every","birthdaySound","loop","requestAnimationFrame","slice","IntroModal","onCloseModal","useState","isActive","setIsActive","closeModal","className","onClick","role","aria-label","display","flexDirection","fontSize","fontWeight","columnGap","GithubNote","IndexPage","data","playBgMusic","setPlayBgMusic","useEffect","initCanvas","Layout","autoPlay"],"mappings":"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","file":"component---src-templates-index-page-js-551b65958bf2767a875c.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/birthday-ceb30aeb8c848a1ee74c3dcf67a15793.mp3\";","const MAX_CANVAS_WIDTH = 1200;\r\nconst MAX_CANVAS_HEIGHT = 800;\r\nlet CANVAS_WIDTH = 0;\r\nlet CANVAS_HEIGHT = 0;\r\nlet SCALE_X = 1;\r\nlet SCALE_Y = 1;\r\n\r\nexport const getCanvasWidth = () => CANVAS_WIDTH;\r\nexport const getCanvasHeight = () => CANVAS_HEIGHT;\r\nexport const getScaleXBounded = (bound = 0.7) => Math.max(SCALE_X, bound);\r\nexport const getScaleX = () => SCALE_X;\r\nexport const getScaleY = () => SCALE_Y;\r\nexport const rem = () => Math.min(getCanvasHeight(), getCanvasWidth());\r\n\r\nexport default (canvas) => {\r\n  function updateCanvasDimensions() {\r\n    CANVAS_WIDTH = window.innerWidth;\r\n    CANVAS_HEIGHT = window.innerHeight;\r\n    SCALE_X = CANVAS_WIDTH / MAX_CANVAS_WIDTH;\r\n    SCALE_Y = (CANVAS_HEIGHT / MAX_CANVAS_HEIGHT);\r\n    canvas.width = CANVAS_WIDTH;\r\n    canvas.height = CANVAS_HEIGHT;\r\n  }\r\n\r\n  updateCanvasDimensions();\r\n\r\n  if (typeof window !== 'undefined') {\r\n    window.addEventListener(\"resize\", updateCanvasDimensions);\r\n  }\r\n}\r\n\r\n","// Scene States\r\n\r\nconst INIT = 'INIT';\r\nconst CANDLE_BLOWING = 'CANDLE_BLOWING';\r\nconst CAKE_CUTTING = 'CAKE_CUTTING';\r\n\r\nconst sceneStates = {\r\n  INIT,\r\n  CANDLE_BLOWING,\r\n  CAKE_CUTTING,\r\n};\r\n\r\nlet currentSceneState = sceneStates.CANDLE_BLOWING;\r\n\r\n\r\nexport default sceneStates;\r\n\r\nexport const getSceneState = () => sceneStates[currentSceneState];\r\n\r\nexport const setSceneState = (sceneState) => { currentSceneState = sceneState };","export const isTouchDevice = function() {\r\n    return (('ontouchstart' in window) ||\r\n           (navigator.maxTouchPoints > 0) ||\r\n           (navigator.msMaxTouchPoints > 0));\r\n}\r\n\r\nexport const calculateDistance = function({x:x1, y:y1}, {x:x2, y:y2}) {\r\n    return Math.sqrt(Math.pow(x1 - x2, 2) + Math.pow(y1 - y2, 2));\r\n  }\r\n\r\nexport const callOnce = function(func) {\r\n    let isCalled = false;\r\n    return (...args) => {\r\n      if(!isCalled) {\r\n        isCalled = true;\r\n        func(...args);\r\n      }\r\n    }\r\n  }\r\n\r\nexport const convertDegreeToRadians = degree => degree * Math.PI / 180;","import { getCanvasWidth, getCanvasHeight } from \"./dimensions\";\r\nimport { isTouchDevice } from \"./helpers\";\r\n\r\nlet mouseX = getCanvasWidth()/2;\r\nlet mouseY = getCanvasHeight()/2;\r\nlet clickX = 0;\r\nlet clickY = 0;\r\nlet isDragging = false;\r\n\r\nif (typeof window !== 'undefined') {\r\n  let mousemove = 'mousemove';\r\n  let mousedown = 'mousedown';\r\n  let mouseup = 'mouseup';\r\n  \r\n  if (isTouchDevice()) {\r\n    mousemove = 'touchmove';\r\n    mousedown = 'touchstart';\r\n    mouseup = 'touchend';\r\n  }\r\n\r\n  window.addEventListener(mousemove, event => {\r\n    mouseX = event.x || (event.targetTouches && event.targetTouches[0].clientX);\r\n    mouseY = event.y || (event.targetTouches && event.targetTouches[0].clientY);\r\n  });\r\n\r\n  window.addEventListener(mousedown, event => {\r\n    if(isDragging === false) {\r\n      clickX = event.x || (event.targetTouches && event.targetTouches[0].clientX);\r\n      clickY = event.y || (event.targetTouches && event.targetTouches[0].clientY);\r\n    }\r\n    isDragging = true;\r\n  });\r\n\r\n  window.addEventListener(mouseup, () => {\r\n    isDragging = false;\r\n  });\r\n\r\n}\r\n\r\nexport default () => ({ mouseX, mouseY, clickX, clickY, isDragging });\r\nexport function resetDrag () { isDragging = false };","import { calculateDistance } from \"../../utils/helpers\";\r\nimport getMouseCoords from \"../../utils/mouseCoords\";\r\n\r\nexport default class Shape {\r\n    constructor(draggable = false) {\r\n        this.canvas = document.querySelector('canvas');\r\n        this.ctx = this.canvas.getContext('2d');\r\n        \r\n        this.draggable = draggable;\r\n        this.isBeingDragged = false;\r\n    }\r\n\r\n    updateMouseInteractionStatus() {\r\n        const { mouseX, mouseY, clickX, clickY, isDragging } = getMouseCoords();\r\n\r\n        if (this.hasCollidedWithPoint(clickX, clickY) && isDragging) {\r\n            this.isBeingDragged = true;\r\n            this.canvas.style.cursor = 'grabbing';\r\n        } else if (!isDragging) {\r\n            this.isBeingDragged = false;\r\n        }\r\n\r\n        if (this.hasCollidedWithPoint(mouseX, mouseY) && !isDragging) {\r\n            this.canvas.style.cursor = 'grab';\r\n        } else if (!isDragging) {\r\n            this.canvas.style.cursor = 'auto';\r\n        }\r\n    }\r\n\r\n    hitBoxOptions () {\r\n        return null;\r\n    }\r\n\r\n    hasCollidedWithPoint(pointX, pointY) {\r\n        // HitBox Info\r\n        const hitBoxOptions = this.hitBoxOptions();\r\n\r\n        if(hitBoxOptions === null) return false;\r\n\r\n        switch(hitBoxOptions.type) {\r\n            case 'rectangle': {\r\n                const {\r\n                    left, top, width, height,\r\n                } = hitBoxOptions;\r\n\r\n                if(\r\n                    pointX >= left  &&\r\n                    pointX <= left + width &&\r\n                    pointY >= top &&\r\n                    pointY <= top + height\r\n                  ) {\r\n                    return true;\r\n                  } else {\r\n                    return false;\r\n                  }\r\n            }\r\n\r\n            case 'circle': {\r\n                const {\r\n                    x, y, radius\r\n                } = hitBoxOptions;\r\n\r\n                return calculateDistance({ x, y }, { x: pointX, y: pointY }) <= radius;\r\n            }\r\n\r\n            default: {\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n}","import Shape from \"./Shape\"\r\nimport { getCanvasWidth, getCanvasHeight } from \"../../utils/dimensions\";\r\nimport { callOnce } from \"../../utils/helpers\";\r\n\r\nconst log = callOnce(console.log);\r\n\r\nexport default class Background extends Shape {\r\n\r\n  setcolorBlocks(blocks) {\r\n    let num = 0;\r\n    const denom = blocks.reduce((acc, block) => acc + block.height, 0);\r\n    log(denom);\r\n\r\n    blocks.forEach(block => {\r\n      this.ctx.fillStyle = block.color;\r\n      this.ctx.fillRect(0, getCanvasHeight() * (num/denom), getCanvasWidth(), getCanvasHeight() * ((num + block.height)/denom));\r\n      num += block.height;\r\n    });\r\n  }\r\n\r\n  draw() {\r\n    const { ctx } = this;\r\n    ctx.save();\r\n    ctx.clearRect(0, 0, getCanvasWidth(), getCanvasHeight());\r\n    this.setcolorBlocks([\r\n      {color: '#ffcbcb', height: 40},\r\n      {color: '#70adb5', height: 45},\r\n      {color: '#407088', height: 5},\r\n      {color: '#132743', height: 10},\r\n    ]);\r\n    // ctx.fillStyle = '#ffcbcb';\r\n    // ctx.fillRect(0, 0, getCanvasWidth(), getCanvasHeight()*0.4);\r\n    // ctx.fillStyle = '#70adb5';\r\n    // ctx.fillRect(0, getCanvasHeight()*0.4, getCanvasWidth(), getCanvasHeight()*0.45);\r\n    // ctx.fillStyle = '#407088';\r\n    // ctx.fillRect(0, getCanvasHeight()*0.85, getCanvasWidth(), getCanvasHeight()*0.05);\r\n    // ctx.fillStyle = '#132743';\r\n    // ctx.fillRect(0, getCanvasHeight()*0.9, getCanvasWidth(), getCanvasHeight()*0.1);\r\n    ctx.restore();\r\n  }\r\n}","import { convertDegreeToRadians } from '../../utils/helpers';\r\nimport CylinderStack from './CylinderStack';\r\n\r\nconst CAKE_INNER_COLOR = '#ffffe0';\r\nconst CAKE_OUTER_COLOR = '#ffcce0';\r\n\r\nexport default class Cake extends CylinderStack { \r\n\r\n  constructor(\r\n    x, y, startAngle=0, endAngle=convertDegreeToRadians(360),\r\n  ) {\r\n    super(\r\n      x, y, 200, 200, startAngle, endAngle, CAKE_INNER_COLOR, CAKE_OUTER_COLOR\r\n    );\r\n  }\r\n}","import { getScaleXBounded, getScaleY } from \"../../utils/dimensions\";\r\nimport Shape from \"./Shape\";\r\n\r\nexport default class CylinderStack extends Shape {\r\n  constructor(\r\n    x, y, r, height, startAngle, endAngle, fillColor, strokeColor\r\n  ) {\r\n    super();\r\n    Object.assign(this, { x, y, r, height, startAngle, endAngle, fillColor, strokeColor })\r\n  }\r\n\r\n  draw() {\r\n    const { ctx, x, y, r, height, startAngle, endAngle, fillColor, strokeColor } = this;\r\n    ctx.save();\r\n    ctx.translate(x,y);\r\n    ctx.fillStyle = strokeColor;\r\n    ctx.lineWidth = 0;\r\n    \r\n    ctx.save();\r\n    // ctx.scale(1, 0.5);\r\n    ctx.scale(getScaleXBounded(), 0.5 * getScaleY());\r\n    ctx.beginPath();\r\n    ctx.moveTo(0,0);\r\n    ctx.lineTo(r*Math.cos(startAngle), r*Math.sin(startAngle));\r\n    ctx.lineTo(r*Math.cos(startAngle), r*Math.sin(startAngle)+height);\r\n    ctx.lineTo(0, height);\r\n    ctx.closePath();\r\n    ctx.restore();\r\n    ctx.fill();\r\n\r\n    ctx.save();\r\n    // ctx.scale(1, 0.5);\r\n    ctx.scale(getScaleXBounded(), 0.5 * getScaleY());\r\n    ctx.beginPath();\r\n    ctx.moveTo(0,0);\r\n    ctx.lineTo(r*Math.cos(endAngle), r*Math.sin(endAngle));\r\n    ctx.lineTo(r*Math.cos(endAngle), r*Math.sin(endAngle)+height);\r\n    ctx.lineTo(0, height);\r\n    ctx.restore();\r\n    ctx.closePath();\r\n    // ctx.fill();\r\n\r\n    ctx.save();\r\n    // ctx.scale(1, 0.5);\r\n    ctx.scale(getScaleXBounded(), 0.5 * getScaleY());\r\n    ctx.beginPath();\r\n    ctx.moveTo(r*Math.cos(startAngle), r*Math.sin(startAngle));\r\n    ctx.lineTo(r*Math.cos(startAngle), r*Math.sin(startAngle)+height);\r\n    ctx.arc(0, height, r, startAngle, endAngle);\r\n    ctx.lineTo(r*Math.cos(endAngle), r*Math.sin(endAngle));\r\n    ctx.arc(0, 0, r, endAngle, startAngle, true);\r\n    ctx.closePath();\r\n    ctx.restore();\r\n    ctx.fill();\r\n    \r\n    ctx.fillStyle = fillColor;\r\n    ctx.strokeStyle = fillColor;\r\n    ctx.lineWidth = 0;\r\n    ctx.save();\r\n    // ctx.scale(1, 0.5);\r\n    ctx.scale(getScaleXBounded(), 0.5 * getScaleY());\r\n    ctx.beginPath();\r\n    ctx.moveTo(r*Math.cos(startAngle), r*Math.sin(startAngle));\r\n    ctx.arc(0, 0, r, startAngle, endAngle);\r\n    ctx.lineTo(0, 0);\r\n    ctx.closePath();\r\n    ctx.restore();\r\n    ctx.fill();\r\n    ctx.stroke();\r\n    \r\n    ctx.restore();\r\n  }\r\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","export const EventLabels = Object.freeze({\r\n    CAKE: \"Cake\",\r\n});\r\n\r\nexport const EventNames = Object.freeze({\r\n    AUDIO_INITIALIZED: \"Audio Initialized\",\r\n    CANDLE_BLOWN: \"Candle Blown\",\r\n    CAKE_CUT: \"Cake Cut\",\r\n    BLOWER_DRAGGED: \"Blower Dragged\",\r\n    KNIFE_DRAGGED: \"Knife Dragged\",\r\n});\r\n\r\nexport function sendClickEvent(eventLabel, eventAction) {\r\n    if (typeof window !== 'undefined' && 'ga' in window) {\r\n        window.ga('send', {\r\n            hitType: 'event',\r\n            eventCategory: 'Click',\r\n            eventAction,\r\n            eventLabel\r\n          });\r\n    }\r\n}\r\n\r\nexport function sendDragEvent(eventLabel, eventAction) {\r\n    if (typeof window !== 'undefined' && 'ga' in window) {\r\n        window.ga('send', {\r\n            hitType: 'event',\r\n            eventCategory: 'Drag',\r\n            eventAction,\r\n            eventLabel\r\n          });\r\n    }\r\n}\r\n\r\nexport function sendCustomEvent(eventLabel, eventAction, customProps) {\r\n    if (typeof window !== 'undefined' && 'ga' in window) {\r\n        window.ga('send', {\r\n            hitType: 'event',\r\n            eventCategory: 'Custom',\r\n            eventAction,\r\n            eventLabel,\r\n            ...customProps,\r\n          });\r\n    }\r\n}","export default function Arrow(ctx, x, y, fill, scale = 1) {\r\n    ctx.save();\r\n    ctx.fillStyle = '#00a0fe';\r\n    ctx.strokeStyle = '#00a0fe';\r\n    ctx.lineCap = \"round\";\r\n    ctx.lineJoin = \"round\";\r\n    ctx.lineWidth = 3;\r\n    ctx.scale(scale, scale);\r\n    ctx.translate(x, y);\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, 0);\r\n    ctx.lineTo(10, 0);\r\n    ctx.lineTo(10, 25);\r\n    ctx.lineTo(15, 25);\r\n    ctx.lineTo(0, 40);\r\n    ctx.lineTo(-15, 25);\r\n    ctx.lineTo(-10, 25);\r\n    ctx.lineTo(-10, 0);\r\n    ctx.closePath();\r\n    fill ? ctx.fill() : ctx.stroke();\r\n    ctx.restore();\r\n}","\r\nimport getMouseCoords from \"../../utils/mouseCoords\";\r\nimport Shape from \"./Shape\";\r\nimport { sendDragEvent, EventLabels, EventNames } from \"../../utils/analytics\";\r\nimport Arrow from \"./Arrow\";\r\nimport { callOnce, convertDegreeToRadians } from \"../../utils/helpers\";\r\nimport { getScaleXBounded, getScaleY } from \"../../utils/dimensions\";\r\n\r\nconst KNIFE_COLOR = '#f1f1f1';\r\n\r\nconst sendDragEventOnce = callOnce(sendDragEvent);\r\n\r\nexport default class Knife extends Shape {\r\n  constructor(\r\n    x,\r\n    initY = 0,\r\n    highBound = -100,\r\n    lowBound = 100,\r\n  ) {\r\n    super();\r\n    const { mouseY } = getMouseCoords();\r\n    this.x = x;\r\n    this.initY = initY - 25;\r\n    this.y = this.initY;\r\n    this.initMouseCoords = mouseY;\r\n    this.animate = true;\r\n    this.highBound = initY - highBound;\r\n    this.lowBound = lowBound;\r\n    this.showPointer = true;\r\n  }\r\n\r\n  update() {\r\n    const { mouseY } = getMouseCoords();\r\n    this.updateMouseInteractionStatus();\r\n\r\n    if(!this.animate) return;\r\n\r\n    if (mouseY && this.isBeingDragged) {\r\n      if(this.y !== mouseY) {\r\n        sendDragEventOnce(EventLabels.CAKE, EventNames.KNIFE_DRAGGED);\r\n      }\r\n      this.y = Math.max(this.highBound, Math.min(mouseY, this.initY + this.lowBound));\r\n      this.showPointer = false;\r\n    } else {\r\n      this.showPointer = true;\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    const { x, y } = this;\r\n    return { x, y };\r\n  }\r\n\r\n  stopAnimating() {\r\n    this.animate = false;\r\n  }\r\n\r\n  hitBoxOptions() {\r\n    return this.animate ? {\r\n      type: 'rectangle',\r\n      left: this.x - 150,\r\n      top: this.y - 25,\r\n      width: 330,\r\n      height: 50,\r\n    } : null;\r\n  }\r\n\r\n  draw(step) {\r\n    const { ctx, x, y, showPointer } = this;\r\n    ctx.save();\r\n    ctx.fillStyle = KNIFE_COLOR;\r\n    ctx.beginPath();\r\n    ctx.translate(x, y);\r\n    ctx.scale(getScaleXBounded(), getScaleY())\r\n    // step === 1 && ctx.rotate(convertDegreeToRadians(45));\r\n    // step === 1 && ctx.transform(1, -0.32, 0.25, 1, 0, 0);\r\n    ctx.moveTo(150, -25);\r\n    ctx.lineTo(-150, -25);\r\n    // ctx.arc(-100, -25, 50, convertDegreeToRadians(180), convertDegreeToRadians(90), true);\r\n    ctx.quadraticCurveTo(-150, 25, 50, 25);\r\n    // ctx.lineTo(50, 25);\r\n    ctx.lineTo(50,-25);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = \"#e7e7e7\";\r\n    // ctx.fillStyle = \"#000\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(-150, -25);\r\n    ctx.quadraticCurveTo(-150, 25, 50, 25);\r\n    ctx.lineTo(50, -25);\r\n    ctx.quadraticCurveTo(45, 20, 40, 20);\r\n    ctx.quadraticCurveTo(-145, 20, -150, -25);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    ctx.fillStyle = \"#cfd2d4\";\r\n    ctx.fillRect(50, -23, 10, 30);\r\n\r\n    ctx.fillStyle = \"#343434\";\r\n    ctx.beginPath();\r\n    ctx.moveTo(60, -23);\r\n    ctx.lineTo(145, -23);\r\n    ctx.arc(175, -18, 5, convertDegreeToRadians(270), 0);\r\n    ctx.lineTo(180, 15);\r\n    ctx.arc(175, 15, 5, 0, convertDegreeToRadians(90));\r\n\r\n    let i = 0;\r\n    const points = [\r\n      {x: 160, y: 0},\r\n      {x: 120, y: 15},\r\n      {x: 80, y: 0},\r\n      {x: 60, y: 15},\r\n    ];\r\n\r\n    for (i = 1; i < points.length - 2; i ++)\r\n    {\r\n      var xc = (points[i].x + points[i + 1].x) / 2;\r\n      var yc = (points[i].y + points[i + 1].y) / 2;\r\n      ctx.quadraticCurveTo(points[i].x, points[i].y, xc, yc);\r\n    }\r\n    ctx.quadraticCurveTo(points[i].x, points[i].y, points[i+1].x,points[i+1].y);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n\r\n    showPointer && Arrow(ctx, 100, -100 + 10 * Math.sin(Date.now()/150), true, 1);\r\n    ctx.restore();\r\n  }\r\n}","import { getScaleXBounded, getScaleY } from \"../../utils/dimensions\";\r\nimport { convertDegreeToRadians } from \"../../utils/helpers\";\r\nimport Shape from \"./Shape\";\r\n\r\nlet step = 1;\r\n\r\nsetInterval(() => {\r\n  step = 1 - step;\r\n}, 100);\r\n\r\nexport default class Candle extends Shape {\r\n  static noOfCandles = 0;\r\n\r\n  constructor(x, y, color) {\r\n    super();\r\n    this.id = Candle.noOfCandles++;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.flameHeight = 20;\r\n    this.flameSpeed = 2;\r\n    this.state = 'burning';\r\n    this.alpha = 1;\r\n    this.alphaSpeed = 0;\r\n    this.wickLength = 30;\r\n    this.candleHeight = 35;\r\n    this.color = color;\r\n  }\r\n\r\n  extinguish() {\r\n    this.state = \"extinguishing\";\r\n    this.flameSpeed = -3;\r\n    this.alphaSpeed = -0.1;\r\n  }\r\n\r\n  getState() {\r\n    return this.state;\r\n  }\r\n\r\n  update() {\r\n    this.flameHeight += this.flameSpeed;\r\n\r\n    if(this.state === 'burning' && (this.flameHeight >= 30 || this.flameHeight <= 20)) {\r\n      this.flameSpeed = -this.flameSpeed;\r\n      return;\r\n    } \r\n    \r\n    this.alpha += this.alphaSpeed;\r\n    \r\n    if (this.flameHeight === this.wickLength) {\r\n      this.flameSpeed = 0;\r\n    }\r\n\r\n    if(this.alpha <= 0) {\r\n      this.alpha = 0;\r\n      this.alphaSpeed = 0;\r\n      this.state = \"extinguished\";\r\n    }\r\n\r\n  }\r\n\r\n  getPosition() {\r\n    const { x, y, candleHeight, wickLength } = this;\r\n    return { x, y: y - candleHeight - wickLength };\r\n  }\r\n\r\n  draw() {\r\n    const { \r\n      ctx, x, y, flameHeight, alpha, wickLength, candleHeight, color\r\n    } = this;\r\n\r\n    const candleRadius = 10;\r\n\r\n    const flameBaseRadius = 5;\r\n\r\n    ctx.save()\r\n\r\n    // Candle\r\n    ctx.fillStyle = color;\r\n    ctx.translate(x, y - (candleHeight+wickLength)/2);\r\n    // ctx.scale(1, 0.5);\r\n    ctx.scale(getScaleXBounded(0.8), getScaleY());\r\n    ctx.beginPath();\r\n    ctx.moveTo(candleRadius, -candleHeight);\r\n    ctx.arc(0, -candleHeight, candleRadius, 0, convertDegreeToRadians(360));\r\n    ctx.lineTo(candleRadius, candleHeight);\r\n    ctx.arc(0, candleHeight, candleRadius, 0, convertDegreeToRadians(180));\r\n    ctx.lineTo(-candleRadius, -candleHeight)\r\n    // ctx.closePath();\r\n    ctx.fill();\r\n    \r\n    // Wick\r\n    ctx.lineWidth = 2;\r\n    ctx.beginPath();\r\n    ctx.moveTo(0, -candleHeight);\r\n    ctx.lineTo(0, -candleHeight - wickLength);\r\n    ctx.stroke();\r\n    \r\n    // Flame\r\n    ctx.globalAlpha = alpha * 0.8;\r\n    ctx.fillStyle = '#FF7500';\r\n    ctx.shadowColor = '#fac000';\r\n    ctx.shadowBlur = 10;\r\n    ctx.shadowOffsetY = -10;\r\n    ctx.beginPath();\r\n    ctx.arc(0, -candleHeight - wickLength/2, flameBaseRadius, 0, convertDegreeToRadians(180));\r\n    ctx.lineTo(0, -candleHeight - wickLength - flameHeight);\r\n    ctx.lineTo(flameBaseRadius, -candleHeight - wickLength/2);\r\n    ctx.fill();\r\n    ctx.restore();\r\n  }\r\n}\r\n","import { convertDegreeToRadians } from \"../../utils/helpers\";\r\n\r\nexport default ({\r\n    ctx, x, y, radius, startAngle = 0, endAngle = convertDegreeToRadians(360), fillColor\r\n}) => {\r\n    ctx.save();\r\n    if (fillColor) { ctx.fillStyle = fillColor; }\r\n    ctx.beginPath();\r\n    ctx.arc(x, y, radius, startAngle, endAngle);\r\n    ctx.closePath();\r\n    ctx.fill();\r\n    ctx.restore();\r\n}","import Shape from \"./Shape\";\r\nimport getMouseCoords from \"../../utils/mouseCoords\";\r\nimport Arrow from \"./Arrow\";\r\n\r\nimport { sendDragEvent, EventLabels, EventNames } from \"../../utils/analytics\";\r\nimport Circle from \"./Circle\";\r\nimport { callOnce, convertDegreeToRadians } from \"../../utils/helpers\";\r\n\r\nconst sendDragEventOnce = callOnce(sendDragEvent);\r\n\r\nconst FAN_COLOR = '#777777';\r\n\r\nexport default class CandleBlower extends Shape {\r\n  constructor(\r\n    x, y\r\n  ) {\r\n    super();\r\n    this.x = x;\r\n    this.y = y;\r\n    this.radius = 24;\r\n    this.fillColor = FAN_COLOR;\r\n    this.showArrow = true;\r\n    this.rotation = 0;\r\n  }\r\n\r\n  update() {\r\n    const { mouseX, mouseY } = getMouseCoords();\r\n\r\n    this.updateMouseInteractionStatus();\r\n\r\n    if(mouseX && mouseY && this.isBeingDragged) {\r\n      if(\r\n        this.x !== mouseX ||\r\n        this.y !== mouseY\r\n      ) {\r\n        sendDragEventOnce(EventLabels.CAKE, EventNames.BLOWER_DRAGGED);\r\n      }\r\n\r\n      this.showArrow = false;\r\n      this.x = mouseX;\r\n      this.y = mouseY;\r\n      this.rotation += convertDegreeToRadians(10);\r\n    } else {\r\n      this.showArrow = true;\r\n    }\r\n  }\r\n\r\n  getPosition() {\r\n    const { x, y } = this;\r\n    return { x, y };\r\n  }\r\n\r\n  hitBoxOptions() {\r\n    return {\r\n      type: 'circle',\r\n      x: this.x,\r\n      y: this.y,\r\n      radius: this.radius,\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    const { \r\n      x, y, rotation, ctx, fillColor, showArrow\r\n    } = this;\r\n    ctx.save();\r\n    ctx.fillStyle = fillColor;\r\n    ctx.translate(x, y);\r\n    showArrow && Arrow(ctx, 0, -120 + 10*Math.sin(Date.now()/150), true, 0.5);\r\n    \r\n    ctx.rotate(rotation);\r\n    for(let i=0; i < 4; i++) {\r\n      ctx.rotate(i*convertDegreeToRadians(90));\r\n      Circle({\r\n        ctx, x: 12, y: 0, radius: 12, endAngle: convertDegreeToRadians(180),\r\n      });\r\n    }\r\n    Circle({ctx, x: 0, y: 0, radius: 4});\r\n    ctx.restore();\r\n\r\n  }\r\n}","import Shape from \"./Shape\";\r\nimport Arrow from \"./Arrow\";\r\nimport { getScaleXBounded } from \"../../utils/dimensions\";\r\n\r\nexport default class ArrowStrip extends Shape {\r\n  constructor(\r\n    x, y\r\n  ) {\r\n    super();\r\n    this.x = x;\r\n    this.y = y - 150;\r\n    this.arrows = Array(3).fill(false);\r\n    this.curArrow = 0\r\n    this.timer = setInterval(() => {\r\n      this.arrows = Array(3).fill(false);\r\n      this.arrows[this.curArrow] = true;\r\n      this.curArrow = (this.curArrow + 1)% 3\r\n    }, 250);\r\n\r\n    this.alpha = 1;\r\n    this.alphaSpeed = 0;\r\n  }\r\n\r\n  fillAll() {\r\n    clearInterval(this.timer);\r\n    this.arrows = Array(3).fill(true);\r\n    this.alphaSpeed = - 0.08;\r\n  }\r\n\r\n  update() {\r\n    this.alpha += this.alphaSpeed;\r\n\r\n    if(this.alpha <= 0) {\r\n      this.alpha = 0;\r\n      this.alphaSpeed = 0;\r\n    }\r\n  }\r\n\r\n\r\n  draw() {\r\n    const { ctx, x, y, arrows, alpha } = this;\r\n\r\n    ctx.save();\r\n    ctx.translate(x, y);\r\n    ctx.globalAlpha = alpha;\r\n    for(let i = 0; i < 3; i++) {\r\n      Arrow(ctx, 0, 50*i, arrows[i], getScaleXBounded());\r\n    }\r\n    ctx.restore();\r\n  }\r\n}","import Shape from \"./Shape\";\r\n\r\nexport default class Text extends Shape {\r\n  constructor(\r\n    { text, x, y, font, alpha, color, shadowBlur }\r\n  ) {\r\n    super();\r\n    this.text = text;\r\n    this.x = x;\r\n    this.y = y;\r\n    this.alpha = alpha || 0;\r\n    this.alphaSpeed = 0;\r\n    this.font = font || '48px serif';\r\n    this.color = color || '#333333';\r\n    this.shadowBlur = shadowBlur;\r\n  }\r\n\r\n  show(speed = 0.1) {\r\n    this.alphaSpeed = speed;\r\n  }\r\n\r\n  hide(speed = 0.1) {\r\n    this.alphaSpeed = -speed;\r\n  }\r\n\r\n  update() {\r\n    this.alpha += this.alphaSpeed;\r\n    if(this.alpha >= 1 && this.alphaSpeed > 0) {\r\n      this.alpha = 1;\r\n      this.alphaSpeed = 0;\r\n    }\r\n\r\n    if(this.alpha <= 0 && this.alphaSpeed < 0) {\r\n      this.alpha = 0;\r\n      this.alphaSpeed = 0;\r\n    }\r\n  }\r\n\r\n  draw() {\r\n    const { \r\n      ctx, x, y, text, alpha, font\r\n    } = this;\r\n\r\n    ctx.save();\r\n    ctx.font = font;\r\n    ctx.textAlign = \"center\";\r\n    ctx.globalAlpha = alpha;\r\n    ctx.fillStyle = this.color;\r\n    ctx.shadowBlur = this.shadowBlur;\r\n    ctx.shadowColor = this.color;\r\n    ctx.translate(x, y);\r\n    ctx.fillText(text, 0, 0);\r\n    ctx.restore();\r\n  }\r\n}","// import { sendCustomEvent, EventLabels, EventNames } from './analytics';\r\n\r\nconst initAudio = (src) => {\r\n  const audioElement = document.createElement(\"audio\");\r\n  document.body.appendChild(audioElement);\r\n\r\n  audioElement.setAttribute(\"src\", src);\r\n\r\n  audioElement.play();\r\n  // sendCustomEvent(EventLabels.CAKE, EventNames.AUDIO_INITIALIZED);\r\n}\r\n\r\nexport default initAudio;\r\n","import initCanvasDimensions, {\r\n    getCanvasWidth,\r\n    getCanvasHeight,\r\n    getScaleX,\r\n    getScaleXBounded,\r\n    getScaleY,\r\n} from \"../utils/dimensions\";\r\nimport sceneStates, { getSceneState, setSceneState } from \"../utils/SceneState\";\r\n\r\nimport Background from \"./shapes/Background\";\r\nimport Cake from \"./shapes/Cake\";\r\nimport Knife from \"./shapes/Knife\";\r\nimport Candle from \"./shapes/Candle\";\r\nimport CandleBlower from \"./shapes/CandleBlower\";\r\nimport ArrowStrip from \"./shapes/ArrowStrip\";\r\nimport Text from \"./shapes/Text\";\r\nimport { sendCustomEvent, EventLabels, EventNames } from \"../utils/analytics\";\r\nimport { resetDrag } from \"../utils/mouseCoords\";\r\nimport { calculateDistance, convertDegreeToRadians } from \"../utils/helpers\";\r\nimport initAudio from \"../utils/audio\";\r\nimport birthdaySound from \"../assets/cheering.mp3\";\r\n\r\nexport default () => {\r\n    const canvas = document.querySelector(\"canvas\");\r\n    initCanvasDimensions(canvas);\r\n\r\n    const background = new Background();\r\n\r\n    const backCakeSlice = new Cake(\r\n        getCanvasWidth() / 2,\r\n        getCanvasHeight() / 2,\r\n        convertDegreeToRadians(180),\r\n        0\r\n    );\r\n\r\n    const frontCakeSlice = new Cake(\r\n        getCanvasWidth() / 2,\r\n        getCanvasHeight() / 2,\r\n        0,\r\n        convertDegreeToRadians(180)\r\n    );\r\n\r\n    const blowCandleText1 = new Text({\r\n        text: \"Tiup lilinnya kak :)\",\r\n        x: getCanvasWidth() / 2,\r\n        y: getCanvasHeight() * 0.8,\r\n        alpha: 1,\r\n        font: \"2rem Nunito\",\r\n        color: \"#132743\",\r\n    });\r\n    const blowCandleText2 = new Text({\r\n        text: \"Caranya: drag kipasnya ke arah lilin\",\r\n        x: getCanvasWidth() / 2,\r\n        y: getCanvasHeight() * 0.8 + 20,\r\n        alpha: 1,\r\n        font: \"1rem Nunito\",\r\n        color: \"#132743\",\r\n    });\r\n    const cakeCutText = new Text({\r\n        text: \"Potong Kuenya\",\r\n        x: getCanvasWidth() / 2,\r\n        y: getCanvasHeight() * 0.8,\r\n        alpha: 1,\r\n        font: \"2rem Nunito\",\r\n        color: \"#132743\",\r\n    });\r\n\r\n    const birthdayWishText = new Text({\r\n        text: \"Happy Birthday!\",\r\n        x: getCanvasWidth() / 2,\r\n        y: getCanvasHeight() * 0.2,\r\n        alpha: 0,\r\n        font: \"3rem Fugaz One\",\r\n        color: \"#ff0054\",\r\n        shadowBlur: 5,\r\n    });\r\n\r\n    const birthdayWishTextBottom = new Text({\r\n        text: \"Ni Putu Wilastita Muthia Sofi\",\r\n        x: getCanvasWidth() / 2,\r\n        y: getCanvasHeight() * 0.25,\r\n        alpha: 0,\r\n        font: \"2rem Fugaz One\",\r\n        color: \"#ff0054\",\r\n        shadowBlur: 5,\r\n    });\r\n\r\n    const candles = [\r\n        new Candle(\r\n            getCanvasWidth() / 2 + 80 * getScaleXBounded(),\r\n            getCanvasHeight() / 2 - 40 * getScaleY(),\r\n            \"#f25f5c\"\r\n        ),\r\n        new Candle(\r\n            getCanvasWidth() / 2 - 80 * getScaleXBounded(),\r\n            getCanvasHeight() / 2 - 40 * getScaleY(),\r\n            \"#ffe066\"\r\n        ),\r\n        new Candle(\r\n            getCanvasWidth() / 2,\r\n            getCanvasHeight() / 2 + 60 * getScaleY(),\r\n            \"#b9e769\"\r\n        ),\r\n    ];\r\n\r\n    const fan = new CandleBlower(getCanvasWidth() / 4, getCanvasHeight() / 4);\r\n\r\n    const knife = new Knife(\r\n        getCanvasWidth() / 2 + 150 * getScaleXBounded(0.5),\r\n        getCanvasHeight() / 2,\r\n        80 * getScaleY()\r\n    );\r\n    const arrowStrip = new ArrowStrip(\r\n        getCanvasWidth() / 2 + 400 * getScaleX(),\r\n        getCanvasHeight() / 2 + 100 * getScaleY()\r\n    );\r\n\r\n    function draw() {\r\n        background.draw();\r\n\r\n        switch (getSceneState()) {\r\n            case sceneStates.INIT: {\r\n                backCakeSlice.draw();\r\n                frontCakeSlice.draw();\r\n                candles.forEach((candle) => candle.draw());\r\n                break;\r\n            }\r\n\r\n            case sceneStates.CANDLE_BLOWING: {\r\n                blowCandleText1.draw();\r\n                blowCandleText2.draw();\r\n                backCakeSlice.draw();\r\n                frontCakeSlice.draw();\r\n                candles.forEach((candle) => candle.draw());\r\n                fan.draw();\r\n                break;\r\n            }\r\n\r\n            case sceneStates.CAKE_CUTTING: {\r\n                cakeCutText.draw();\r\n                backCakeSlice.draw();\r\n                candles.slice(0, 2).forEach((candle) => candle.draw());\r\n                knife.draw();\r\n                frontCakeSlice.draw();\r\n                candles.slice(2).forEach((candle) => candle.draw());\r\n                !knife.showPointer && arrowStrip.draw();\r\n                birthdayWishText.draw();\r\n                birthdayWishTextBottom.draw();\r\n                break;\r\n            }\r\n\r\n            default: {\r\n                backCakeSlice.draw();\r\n                frontCakeSlice.draw();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    function update() {\r\n        switch (getSceneState()) {\r\n            case sceneStates.CANDLE_BLOWING: {\r\n                candles.forEach((candle) => {\r\n                    candle.update();\r\n                });\r\n                fan.update();\r\n                blowCandleText1.update();\r\n                blowCandleText2.update();\r\n\r\n                candles.forEach((candle) => {\r\n                    if (\r\n                        candle.state === \"burning\" &&\r\n                        calculateDistance(\r\n                            candle.getPosition(),\r\n                            fan.getPosition()\r\n                        ) < 40\r\n                    ) {\r\n                        candle.extinguish();\r\n                        sendCustomEvent(\r\n                            EventLabels.CAKE,\r\n                            EventNames.CANDLE_BLOWN,\r\n                            { id: candle.id }\r\n                        );\r\n                        blowCandleText1.hide();\r\n                        blowCandleText2.hide();\r\n                    }\r\n                });\r\n\r\n                if (\r\n                    candles.every(\r\n                        (candle) => candle.getState() === \"extinguished\"\r\n                    )\r\n                ) {\r\n                    setSceneState(sceneStates.CAKE_CUTTING);\r\n                    resetDrag();\r\n                }\r\n                break;\r\n            }\r\n\r\n            case sceneStates.CAKE_CUTTING: {\r\n                knife.update();\r\n                arrowStrip.update();\r\n                cakeCutText.update();\r\n                birthdayWishText.update();\r\n                birthdayWishTextBottom.update();\r\n                const { y } = knife.getPosition();\r\n                if (knife.isBeingDragged && cakeCutText.alpha === 1) {\r\n                    cakeCutText.hide();\r\n                }\r\n                if (knife.animate && y > knife.initY + knife.lowBound - 2) {\r\n                    knife.stopAnimating();\r\n                    sendCustomEvent(EventLabels.CAKE, EventNames.CAKE_CUT);\r\n                    arrowStrip.fillAll();\r\n                    birthdayWishText.show(0.05);\r\n                    birthdayWishTextBottom.show(0.05);\r\n                    initAudio(birthdaySound);\r\n                }\r\n                break;\r\n            }\r\n\r\n            default: {\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    function loop() {\r\n        requestAnimationFrame(loop);\r\n        update();\r\n        draw();\r\n    }\r\n\r\n    loop();\r\n};\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nconst IntroModal = ({ onCloseModal }) => {\r\n    const [isActive, setIsActive] = useState(true);\r\n\r\n    const closeModal = () => {\r\n        onCloseModal();\r\n        setIsActive(false);\r\n    };\r\n    return (\r\n        <div className={\"modal \" + (isActive ? \"is-active\" : \"\")}>\r\n            {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-noninteractive-element-interactions */}\r\n            <div\r\n                className='modal-background'\r\n                onClick={() => closeModal()}\r\n                role='dialog'\r\n            />\r\n            <div className='modal-card'>\r\n                <header className='modal-card-head'>\r\n                    <button\r\n                        className='delete'\r\n                        aria-label='close'\r\n                        onClick={() => closeModal()}></button>\r\n                </header>\r\n                <section\r\n                    className='modal-card-body'\r\n                    style={{ textAlign: \"center\" }}>\r\n                    <p\r\n                        className='intro-modal__body-text'\r\n                        style={{ display: \"flex\", flexDirection: \"column\" }}>\r\n                        <span\r\n                            style={{\r\n                                color: \"#0bccde\",\r\n                                fontSize: \"22px\",\r\n                                fontWeight: \"700\",\r\n                            }}>\r\n                            ❤ Selamat Bertambah Usia ❤\r\n                        </span>\r\n                        <span\r\n                            style={{\r\n                                fontSize: \"20px\",\r\n                                fontWeight: \"600\",\r\n                            }}>\r\n                            ❤ Ni Putu Wilastita Muthia Sofi ❤\r\n                        </span>\r\n                        <div style={{ display: \"flex\", columnGap: \"20px\" }}>\r\n                            <p>From: Sukra & Widhi</p>\r\n                            {/* <img style={{ width: \"30px\" }} src={pig} /> */}\r\n                        </div>\r\n                    </p>\r\n                </section>\r\n                <footer className='modal-card-foot'>\r\n                    <button\r\n                        className='button intro-modal__cta-btn'\r\n                        onClick={() => closeModal()}>\r\n                        Let's Celebrate!\r\n                    </button>\r\n                </footer>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default IntroModal;\r\n","import React from \"react\";\r\nimport githubImage from \"../img/github-icon.svg\";\r\n\r\nconst GithubNote = () => (\r\n    <span className='github-text'>\r\n        <div style={{ display: \"flex\", columnGap: \"10px\" }}>\r\n            Made with ❤{/* <img style={{ width: \"30px\" }} src={pig} /> */}\r\n        </div>\r\n        {/* <a href=\"https://github.com/briashta/birthday-celebrator\" target=\"_blank\" rel=\"noreferrer\">\r\n            <img src={githubImage} alt=\"github link\" className=\"github-text__icon\"/>\r\n        </a> */}\r\n    </span>\r\n);\r\n\r\nexport default GithubNote;\r\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport Layout from '../components/Layout'\r\nimport initCanvas from '../components/canvas';\r\nimport birthdaySound from '../assets/birthday.mp3';\r\nimport IntroModal from '../components/IntroModal';\r\nimport GithubNote from '../components/GithubNote';\r\n\r\nconst IndexPage = ({ data }) => {\r\n\r\n  const [playBgMusic, setPlayBgMusic] = useState(false);\r\n\r\n  useEffect(() => {\r\n      initCanvas();\r\n  }, []);\r\n\r\n  return (\r\n    <Layout>\r\n      <div>\r\n          <canvas />\r\n          <IntroModal onCloseModal={() => {setPlayBgMusic(true)}}/>\r\n          {\r\n            playBgMusic ? (\r\n            /* eslint-disable-next-line jsx-a11y/media-has-caption */\r\n              <audio autoPlay>\r\n                <source src={birthdaySound} type=\"audio/mp3\" />\r\n              </audio>\r\n            ) : null\r\n          }\r\n          \r\n          <GithubNote />\r\n      </div>\r\n    </Layout>\r\n  )\r\n}\r\n\r\nexport default IndexPage\r\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJDYXBhXzEiIHg9IjBweCIgeT0iMHB4IiB3aWR0aD0iNDM4LjU0OXB4IiBoZWlnaHQ9IjQzOC41NDlweCIgdmlld0JveD0iMCAwIDQzOC41NDkgNDM4LjU0OSIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDM4LjU0OSA0MzguNTQ5OyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+DQo8Zz4NCgk8cGF0aCBkPSJNNDA5LjEzMiwxMTQuNTczYy0xOS42MDgtMzMuNTk2LTQ2LjIwNS02MC4xOTQtNzkuNzk4LTc5LjhDMjk1LjczNiwxNS4xNjYsMjU5LjA1Nyw1LjM2NSwyMTkuMjcxLDUuMzY1ICAgYy0zOS43ODEsMC03Ni40NzIsOS44MDQtMTEwLjA2MywyOS40MDhjLTMzLjU5NiwxOS42MDUtNjAuMTkyLDQ2LjIwNC03OS44LDc5LjhDOS44MDMsMTQ4LjE2OCwwLDE4NC44NTQsMCwyMjQuNjMgICBjMCw0Ny43OCwxMy45NCw5MC43NDUsNDEuODI3LDEyOC45MDZjMjcuODg0LDM4LjE2NCw2My45MDYsNjQuNTcyLDEwOC4wNjMsNzkuMjI3YzUuMTQsMC45NTQsOC45NDUsMC4yODMsMTEuNDE5LTEuOTk2ICAgYzIuNDc1LTIuMjgyLDMuNzExLTUuMTQsMy43MTEtOC41NjJjMC0wLjU3MS0wLjA0OS01LjcwOC0wLjE0NC0xNS40MTdjLTAuMDk4LTkuNzA5LTAuMTQ0LTE4LjE3OS0wLjE0NC0yNS40MDZsLTYuNTY3LDEuMTM2ICAgYy00LjE4NywwLjc2Ny05LjQ2OSwxLjA5Mi0xNS44NDYsMWMtNi4zNzQtMC4wODktMTIuOTkxLTAuNzU3LTE5Ljg0Mi0xLjk5OWMtNi44NTQtMS4yMzEtMTMuMjI5LTQuMDg2LTE5LjEzLTguNTU5ICAgYy01Ljg5OC00LjQ3My0xMC4wODUtMTAuMzI4LTEyLjU2LTE3LjU1NmwtMi44NTUtNi41N2MtMS45MDMtNC4zNzQtNC44OTktOS4yMzMtOC45OTItMTQuNTU5ICAgYy00LjA5My01LjMzMS04LjIzMi04Ljk0NS0xMi40MTktMTAuODQ4bC0xLjk5OS0xLjQzMWMtMS4zMzItMC45NTEtMi41NjgtMi4wOTgtMy43MTEtMy40MjljLTEuMTQyLTEuMzMxLTEuOTk3LTIuNjYzLTIuNTY4LTMuOTk3ICAgYy0wLjU3Mi0xLjMzNS0wLjA5OC0yLjQzLDEuNDI3LTMuMjg5YzEuNTI1LTAuODU5LDQuMjgxLTEuMjc2LDguMjgtMS4yNzZsNS43MDgsMC44NTNjMy44MDcsMC43NjMsOC41MTYsMy4wNDIsMTQuMTMzLDYuODUxICAgYzUuNjE0LDMuODA2LDEwLjIyOSw4Ljc1NCwxMy44NDYsMTQuODQyYzQuMzgsNy44MDYsOS42NTcsMTMuNzU0LDE1Ljg0NiwxNy44NDdjNi4xODQsNC4wOTMsMTIuNDE5LDYuMTM2LDE4LjY5OSw2LjEzNiAgIGM2LjI4LDAsMTEuNzA0LTAuNDc2LDE2LjI3NC0xLjQyM2M0LjU2NS0wLjk1Miw4Ljg0OC0yLjM4MywxMi44NDctNC4yODVjMS43MTMtMTIuNzU4LDYuMzc3LTIyLjU1OSwxMy45ODgtMjkuNDEgICBjLTEwLjg0OC0xLjE0LTIwLjYwMS0yLjg1Ny0yOS4yNjQtNS4xNGMtOC42NTgtMi4yODYtMTcuNjA1LTUuOTk2LTI2LjgzNS0xMS4xNGMtOS4yMzUtNS4xMzctMTYuODk2LTExLjUxNi0yMi45ODUtMTkuMTI2ICAgYy02LjA5LTcuNjE0LTExLjA4OC0xNy42MS0xNC45ODctMjkuOTc5Yy0zLjkwMS0xMi4zNzQtNS44NTItMjYuNjQ4LTUuODUyLTQyLjgyNmMwLTIzLjAzNSw3LjUyLTQyLjYzNywyMi41NTctNTguODE3ICAgYy03LjA0NC0xNy4zMTgtNi4zNzktMzYuNzMyLDEuOTk3LTU4LjI0YzUuNTItMS43MTUsMTMuNzA2LTAuNDI4LDI0LjU1NCwzLjg1M2MxMC44NSw0LjI4MywxOC43OTQsNy45NTIsMjMuODQsMTAuOTk0ICAgYzUuMDQ2LDMuMDQxLDkuMDg5LDUuNjE4LDEyLjEzNSw3LjcwOGMxNy43MDUtNC45NDcsMzUuOTc2LTcuNDIxLDU0LjgxOC03LjQyMXMzNy4xMTcsMi40NzQsNTQuODIzLDcuNDIxbDEwLjg0OS02Ljg0OSAgIGM3LjQxOS00LjU3LDE2LjE4LTguNzU4LDI2LjI2Mi0xMi41NjVjMTAuMDg4LTMuODA1LDE3LjgwMi00Ljg1MywyMy4xMzQtMy4xMzhjOC41NjIsMjEuNTA5LDkuMzI1LDQwLjkyMiwyLjI3OSw1OC4yNCAgIGMxNS4wMzYsMTYuMTgsMjIuNTU5LDM1Ljc4NywyMi41NTksNTguODE3YzAsMTYuMTc4LTEuOTU4LDMwLjQ5Ny01Ljg1Myw0Mi45NjZjLTMuOSwxMi40NzEtOC45NDEsMjIuNDU3LTE1LjEyNSwyOS45NzkgICBjLTYuMTkxLDcuNTIxLTEzLjkwMSwxMy44NS0yMy4xMzEsMTguOTg2Yy05LjIzMiw1LjE0LTE4LjE4Miw4Ljg1LTI2Ljg0LDExLjEzNmMtOC42NjIsMi4yODYtMTguNDE1LDQuMDA0LTI5LjI2Myw1LjE0NiAgIGM5Ljg5NCw4LjU2MiwxNC44NDIsMjIuMDc3LDE0Ljg0Miw0MC41Mzl2NjAuMjM3YzAsMy40MjIsMS4xOSw2LjI3OSwzLjU3Miw4LjU2MmMyLjM3OSwyLjI3OSw2LjEzNiwyLjk1LDExLjI3NiwxLjk5NSAgIGM0NC4xNjMtMTQuNjUzLDgwLjE4NS00MS4wNjIsMTA4LjA2OC03OS4yMjZjMjcuODgtMzguMTYxLDQxLjgyNS04MS4xMjYsNDEuODI1LTEyOC45MDYgICBDNDM4LjUzNiwxODQuODUxLDQyOC43MjgsMTQ4LjE2OCw0MDkuMTMyLDExNC41NzN6Ii8+DQo8L2c+DQo8ZGl2IHhtbG5zPSIiIGlkPSJkaXZTY3JpcHRzVXNlZCIgc3R5bGU9ImRpc3BsYXk6IG5vbmUiLz48c2NyaXB0IHhtbG5zPSIiIGlkPSJnbG9iYWxWYXJzRGV0ZWN0aW9uIiBzcmM9ImNocm9tZS1leHRlbnNpb246Ly9jbWtkYm1mbmRrZmdlYmxkaG5rYmZobG5lZWZkYWFpcC9qcy93cnNfZW52LmpzIi8+PC9zdmc+DQo=\"","module.exports = __webpack_public_path__ + \"static/cheering-741de507524ec968197ef5e808754149.mp3\";"],"sourceRoot":""}